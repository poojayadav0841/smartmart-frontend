<!-- Popular Products -->
<div class="container mt-5 mb-5">
  <div class="mt-3 mb-5 d-flex justify-content-between align-items-center">
    <h1 style="color: red">Popular Products</h1>

    <form class="d-flex" role="search">
      <label for="searchKey" class="visually-hidden">Search</label>

      <input
        #searchKeyword
        (keyup)="searchByKeyword(searchKeyword.value)"
        name="searchKeyword"
        type="search"
        id="searchKey"
        class="form-control me-2"
        placeholder="Search any product"
      />

      <button class="btn btn-outline-success" type="submit">Search</button>
    </form>
  </div>

  <div class="product-grid">
    <div class="product-card" *ngFor="let p of productDetails">
      <div class="product-img-container">
        <img
          [src]="p.productImages[0].url"
          alt="Product Image"
          class="product-img"
        />
      </div>
      <div class="text-center">
        <p>
          <b>{{ p.productName }}</b>
        </p>
      </div>
      <div class="text-center">
        <p class="product-description">{{ p.productDescription }}</p>
      </div>
      <div class="text-center">
        <b style="text-decoration: line-through"
          >Rs. {{ p.productActualPrice }}
        </b>
        &nbsp;&nbsp;
        <b>Rs. {{ p.productDiscountedPrice }}</b>
      </div>
      <div class="text-center mb-4">
        <button
          class="btn btn-primary"
          (click)="showProductDetails(p.productId)"
        >
          View Product
        </button>
      </div>
    </div>
  </div>

  <div class="text-center mt-4">
    <button
      type="button"
      class="btn btn-light"
      (click)="loadMoreProduct()"
      *ngIf="showLoadButton"
    >
      Load More
    </button>
  </div>
</div>
